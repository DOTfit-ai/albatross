<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I Choose You in Every Universe ğŸ’«</title>
    <link rel="stylesheet" href="assets/css/main.css">
</head>

<body>

    <div class="box" id="mainBox">
        <h5>ğŸ’–Be mine forever, and let the world know your heart belongs with me. From today and always, I choose you,
            and
            only you, because no one else could ever take your place in my life. Will you be mine, now and always? ğŸ’˜
        </h5>
        <div class="btn-container" id="btnContainer">
            <button id="yesBtn">Yes</button>
            <button id="noBtn">No</button>
        </div>
    </div>

    <audio id="page1Music" src="assets/page-1.mp3" loop></audio>
    <audio id="page2Music" src="assets/page-2.mp3" loop></audio>

    <script> // Floating Hearts
        for (let i = 0; i < 20; i++) {
            const heart = document.createElement("div");
            heart.className = "heart";
            heart.innerHTML = "ğŸ’—";
            heart.style.left = Math.random() * 100 + "vw";
            heart.style.animationDuration = (4 + Math.random() * 4) + "s";
            document.body.appendChild(heart);
        }

        for (let i = 0; i < 3; i++) {
            const butterfly = document.createElement("div");
            butterfly.className = "butterfly";
            butterfly.innerHTML = "ğŸ¦‹";
            butterfly.style.top = Math.random() * 60 + "vh";
            butterfly.style.animationDelay = Math.random() * 5 + "s";
            document.body.appendChild(butterfly);
        }

        const noBtn = document.getElementById("noBtn");
        const yesBtn = document.getElementById("yesBtn");
        const box = document.getElementById("mainBox");
        const page1Music = document.getElementById("page1Music");
        const page2Music = document.getElementById("page2Music");

        document.body.addEventListener("click", () => {
            page1Music.play();
        }, { once: true });

        // FIXED NO BUTTON LOGIC
        const container = document.getElementById("btnContainer");
        let movedOnce = false;

        function moveNoButton() {
            const margin = 20;

            const maxX = window.innerWidth - noBtn.offsetWidth - margin;
            const maxY = window.innerHeight - noBtn.offsetHeight - margin;

            const randomX = Math.random() * maxX;
            const randomY = Math.random() * maxY;

            noBtn.style.position = "fixed";
            noBtn.style.left = randomX + "px";
            noBtn.style.top = randomY + "px";
        }

        noBtn.addEventListener("mouseover", moveNoButton);   // Desktop
        noBtn.addEventListener("touchstart", moveNoButton);  // Mobile


        // YES button
        yesBtn.addEventListener("click", () => {

            // ğŸ’– Heart Explosion
            const rect = box.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
        
            for (let i = 0; i < 40; i++) {
                const heart = document.createElement("div");
                heart.className = "explosion-heart";
                heart.innerHTML = "ğŸ’–";
                heart.style.left = centerX + "px";
                heart.style.top = centerY + "px";
        
                const angle = Math.random() * 2 * Math.PI;
                const distance = Math.random() * 250 + 100;
        
                const x = Math.cos(angle) * distance;
                const y = Math.sin(angle) * distance;
        
                document.body.appendChild(heart);
        
                setTimeout(() => {
                    heart.style.transform = `translate(${x}px, ${y}px) scale(1.8)`;
                    heart.style.opacity = "0";
                }, 10);
        
                setTimeout(() => {
                    heart.remove();
                }, 1000);
            }
        
            // Stop page 1 music
            page1Music.pause();
            page1Music.currentTime = 0;
        
            // Play page 2 music
            page2Music.play();
        
            // Hide buttons
            document.getElementById("btnContainer").style.display = "none";
        
            // Change text
            box.querySelector("h5").innerText =
                "Youâ€™re mine, and Iâ€™m never letting you goâ€”because in every universe, you always end up with me. ğŸ’ğŸ’•ğŸ¦‹";
        });


    </script>

</body>


</html>


